<UserControl
	x:Class="Anemos.Views.TrayIcon"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="using:Anemos.Views"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:tb="using:H.NotifyIcon"
	mc:Ignorable="d">
	<UserControl.Resources>
		<XamlUICommand x:Key="ShowWindowCommand" ExecuteRequested="ShowWindowCommand_ExecuteRequested" />
		<XamlUICommand
			x:Key="ExitApplicationCommand"
			x:Uid="TrayIcon_Exit"
			Description="Exit"
			ExecuteRequested="ExitApplicationCommand_ExecuteRequested" />
		<MenuFlyout x:Key="TrayContextFlyout" AreOpenCloseAnimationsEnabled="False">
			<MenuFlyoutItem Command="{StaticResource ExitApplicationCommand}" />
		</MenuFlyout>
	</UserControl.Resources>

	<tb:TaskbarIcon
		x:Name="TaskbarIcon"
		x:FieldModifier="public"
		ContextFlyout="{StaticResource TrayContextFlyout}"
		ContextMenuMode="PopupMenu"
		IconSource="/Assets/WindowIcon.ico"
		LeftClickCommand="{StaticResource ShowWindowCommand}"
		NoLeftClickDelay="True"
		ToolTipText="{x:Bind local:TrayIcon.AppName}" />
</UserControl>
